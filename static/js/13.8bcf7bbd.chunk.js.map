{"version":3,"sources":["../node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js","../node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js","../node_modules/@reach/utils/owner-document/dist/reach-utils-owner-document.esm.js","../node_modules/@reach/utils/context/dist/reach-utils-context.esm.js","../node_modules/@reach/utils/type-check/dist/reach-utils-type-check.esm.js","../node_modules/@reach/utils/noop/dist/reach-utils-noop.esm.js","../node_modules/@reach/utils/compose-refs/dist/reach-utils-compose-refs.esm.js","../node_modules/@reach/utils/compose-event-handlers/dist/reach-utils-compose-event-handlers.esm.js","../node_modules/@reach/utils/use-force-update/dist/reach-utils-use-force-update.esm.js","../node_modules/@reach/descendants/dist/reach-descendants.esm.js","../node_modules/@reach/utils/use-previous/dist/reach-utils-use-previous.esm.js","../node_modules/@reach/auto-id/dist/reach-auto-id.esm.js","../node_modules/@reach/portal/dist/reach-portal.esm.js","../../src/index.ts","../node_modules/@reach/rect/dist/reach-rect.esm.js","../node_modules/@reach/popover/dist/reach-popover.esm.js","../node_modules/@reach/combobox/dist/reach-combobox.esm.js","../node_modules/@reach/utils/make-id/dist/reach-utils-make-id.esm.js","../node_modules/@reach/utils/use-update-effect/dist/reach-utils-use-update-effect.esm.js","../node_modules/@reach/utils/use-lazy-ref/dist/reach-utils-use-lazy-ref.esm.js","../node_modules/use-places-autocomplete/dist/index.esm.js","../node_modules/tabbable/index.js"],"names":["canUseDOM","window","document","createElement","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","getOwnerDocument","element","ownerDocument","createNamedContext","name","defaultValue","createContext","isFunction","value","toString","call","noop","_arrayLikeToArray","arr","len","length","i","arr2","Array","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","isArray","minLen","n","Object","prototype","slice","constructor","from","test","_unsupportedIterableToArray","done","TypeError","next","bind","assignRef","ref","current","error","Error","useComposedRefs","_len","arguments","refs","_key","useCallback","node","_step","_iterator","composeEventHandlers","theirHandler","ourHandler","event","defaultPrevented","useForceUpdate","dispatch","useState","create","_extends","assign","target","source","key","hasOwnProperty","apply","this","createDescendantContext","initialValue","descendants","registerDescendant","unregisterDescendant","useDescendant","descendant","context","indexProp","forceUpdate","_React$useContext","useContext","index","findIndex","item","previousDescendants","useRef","usePrevious","someDescendantsHaveChanged","some","_previousDescendants$","concat","values","DescendantProvider","_ref","Ctx","children","items","set","_ref2","explicitIndex","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","newItems","find","Boolean","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","newItem","map","filter","Provider","useMemo","serverHandoffComplete","id","genId","Portal","_ref$type","type","mountNode","portalNode","body","appendChild","removeChild","createPortal","props","observedNodes","run","changedStates","a","newRect","state","b","cb","rafId","observe","wasEmpty","rect","hasRectChanged","callbacks","unobserve","cancelAnimationFrame","useRect","nodeRef","observeOrOptions","deprecated_onChange","onChange","_observeOrOptions$obs","_React$useState","setElement","initialRectIsSet","initialRefIsSet","_React$useState2","setRect","onChangeRef","stableOnChange","getBoundingClientRect","observer","elem","observeRect","cleanup","Rect","Popover","forwardRef","PopoverImpl","forwardedRef","_ref$as","as","Comp","targetRef","_ref$position","position","positionDefault","_ref$unstable_observa","unstable_observableRefs","popoverRef","popoverRect","hidden","targetRect","triggerRef","handleKeyDown","tabbable","shiftKey","shiftTabbedFromElementAfterTrigger","focusLastTabbableInPopover","shiftTabbedOutOfPopover","focusTriggerRef","shiftTabbedToBrowserChrome","disableTabbablesInPopover","tabbedFromTriggerToPopover","focusFirstPopoverTabbable","tabbedOutOfPopover","focusTabbableAfterTrigger","tabbedToBrowserChrome","getElementAfterTrigger","elements","targetIndex","elementAfterTrigger","contains","activeElement","preventDefault","focus","last","_triggerRef$current","addEventListener","removeEventListener","restoreTabIndexTuplÃ©s","forEach","push","tabIndex","enableTabbablesInPopover","useSimulateTabNavigationForReactTree","style","getStyles","visibility","getTopPosition","isDirectionUp","top","height","pageYOffset","_getCollisions","getCollisions","directionRight","directionUp","left","right","width","pageXOffset","positionMatchWidth","offsetLeft","offsetBottom","collisions","innerWidth","bottom","innerHeight","directionLeft","directionDown","combineChunks","chunks","sort","first","second","start","reduce","processedChunks","nextChunk","prevChunk","pop","end","endIndex","Math","max","highlight","defaultFindChunks","_ref3","autoEscape","caseSensitive","_ref3$sanitize","sanitize","defaultSanitize","searchWords","textToHighlight","searchWord","replace","match","regex","RegExp","exec","lastIndex","fillInChunks","_ref4","chunksToHighlight","totalLength","allChunks","append","chunk","string","_on","_on2","_on3","_on4","_states","HighlightWords","findAll","_ref$caseSensitive","_ref$findChunks","findChunks","IDLE","SUGGESTING","NAVIGATING","INTERACTING","CLEAR","CHANGE","INITIAL_CHANGE","NAVIGATE","SELECT_WITH_KEYBOARD","SELECT_WITH_CLICK","ESCAPE","BLUR","INTERACT","FOCUS","OPEN_WITH_BUTTON","CLOSE_WITH_BUTTON","stateChart","initial","states","on","reducer","data","nextState","lastEventType","navigationValue","findNavigationValue","popoverIsExpanded","includes","stateData","persistSelection","ComboboxDescendantContext","ComboboxContext","OptionContext","Combobox","_data$navigationValue","onSelect","_ref$openOnFocus","openOnFocus","ariaLabel","ariaLabelledby","_useDescendantsInit","options","setOptions","inputRef","buttonRef","autocompletePropRef","persistSelectionRef","_useReducerMachine","chart","initialData","setState","_React$useReducer","useReducer","payload","currentState","useReducerMachine","transition","useFocusManagement","idFromProps","initialId","setId","String","undefined","useId","listboxId","args","val","join","makeId","comboboxId","isExpanded","getDataState","ComboboxInput","_ref2$as","_ref2$selectOnClick","selectOnClick","_ref2$autocomplete","autocomplete","onClick","onKeyDown","onBlur","onFocus","controlledValue","initialControlledValue","controlledValueChangedRef","effect","deps","mounted","useUpdateEffect","_React$useContext$dat","selectOnClickRef","useKeyDown","handleBlur","useBlur","isControlled","handleValueChange","trim","inputValue","makeHash","role","select","ComboboxPopover","_ref3$as","_ref3$portal","portal","_ref3$position","_React$useContext2","sharedProps","ComboboxList","_ref4$persistSelectio","_ref4$as","_React$useContext3","ComboboxOption","_ref5","_ref5$as","_React$useContext4","ownRef","isActive","ComboboxOptionText","contextValue","results","str","split","Fragment","result","ctx","_React$useContext8","_ref7","getFirstOption","getLastOption","prev","_React$useContext9","rafIds","fn","isSet","useLazyRef","Set","requestAnimationFrame","add","hash","charCodeAt","toLowerCase","useLatest","usePlacesAutocomplete","_temp","requestOptions","_ref$debounce","debounce","_ref$cache","cache","googleMaps","callbackName","_ref$defaultValue","_ref$initOnMount","initOnMount","_useState","ready","setReady","_useState2","setVal","_useState3","loading","status","suggestions","setSuggestions","asRef","requestOptionsRef","googleMapsRef","init","_google$maps","google","gMaps","placesLib","places","maps","AutocompleteService","console","clearSuggestions","fetchPredictions","wait","timer","_this","clearTimeout","setTimeout","_debounce","prevState","cachedData","JSON","parse","sessionStorage","getItem","acc","maxAge","Date","now","getPlacePredictions","input","setItem","stringify","setValue","shouldFetchData","candidateSelectors","candidateSelector","matches","Element","msMatchesSelector","webkitMatchesSelector","el","candidate","candidateTabindex","regularTabbables","orderedTabbables","candidates","querySelectorAll","includeContainer","unshift","isNodeMatchingSelectorTabbable","getTabindex","documentOrder","sortOrderedTabbables","isNodeMatchingSelectorFocusable","isInput","isRadio","checked","nodes","getCheckedRadio","isTabbableRadio","isNonTabbableRadio","disabled","isHiddenInput","offsetParent","getComputedStyle","isHidden","isTabbable","isFocusable","focusableCandidateSelector","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","tagName","module","exports"],"mappings":"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","file":"static/js/13.8bcf7bbd.chunk.js","sourcesContent":["function canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n\nexport { canUseDOM };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { canUseDOM } from '../../can-use-dom/dist/reach-utils-can-use-dom.esm.js';\n\n/**\n * React currently throws a warning when using useLayoutEffect on the server. To\n * get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\n * ensure we don't get a render flash for certain operations, but we may also\n * need affected components to render on the server. One example is when setting\n * a component's descendants to retrieve their index values.\n *\n * Important to note that using this hook as an escape hatch will break the\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\n * any server/client mismatch.\n *\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\n * likely that the component in question shouldn't be rendered on the server at\n * all, so a better approach would be to lazily render those in a parent\n * component after client-side hydration.\n *\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\n *\n * @param effect\n * @param deps\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { canUseDOM } from '../../can-use-dom/dist/reach-utils-can-use-dom.esm.js';\n\n/**\n * Get an element's owner document. Useful when components are used in iframes\n * or other environments like dev tools.\n *\n * @param element\n */\n\nfunction getOwnerDocument(element) {\n  return canUseDOM() ? element ? element.ownerDocument : document : null;\n}\n/**\n * TODO: Remove in 1.0\n */\n\nfunction getOwnerWindow(element) {\n  var ownerDocument = getOwnerDocument(element);\n  return ownerDocument ? ownerDocument.defaultView || window : null;\n}\n\nexport { getOwnerDocument, getOwnerWindow };\n","import { createContext } from 'react';\n\nfunction createNamedContext(name, defaultValue) {\n  var Ctx = /*#__PURE__*/createContext(defaultValue);\n\n  if (process.env.NODE_ENV !== \"production\") {\n    Ctx.displayName = name;\n  }\n\n  return Ctx;\n}\n\nexport { createNamedContext };\n","/**\n * Checks whether or not a value is a boolean.\n *\n * @param value\n */\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\n/**\n * Checks whether or not a value is a function.\n *\n * @param value\n */\n\nfunction isFunction(value) {\n  // eslint-disable-next-line eqeqeq\n  return !!(value && {}.toString.call(value) == \"[object Function]\");\n}\n/**\n * Checks whether or not a value is a number.\n *\n * @param value\n */\n\nfunction isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\n/**\n * Checks whether or not a value is a string.\n *\n * @param value\n */\n\nfunction isString(value) {\n  return typeof value === \"string\";\n}\n\nexport { isBoolean, isFunction, isNumber, isString };\n","function noop() {}\n\nexport { noop };\n","import { useCallback } from 'react';\nimport { isFunction } from '../../type-check/dist/reach-utils-type-check.esm.js';\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\n/**\n * Passes or assigns an arbitrary value to a ref function or object.\n *\n * @param ref\n * @param value\n */\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (isFunction(ref)) {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n}\n/**\n * Passes or assigns a value to multiple refs (typically a DOM node). Useful for\n * dealing with components that need an explicit ref for DOM calculations but\n * also forwards refs assigned by an app.\n *\n * @param refs Refs to fork\n */\n\nfunction useComposedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return useCallback(function (node) {\n    for (var _iterator = _createForOfIteratorHelperLoose(refs), _step; !(_step = _iterator()).done;) {\n      var ref = _step.value;\n      assignRef(ref, node);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, refs);\n}\n\nexport { assignRef, useComposedRefs };\n","/**\n * Wraps a lib-defined event handler and a user-defined event handler, returning\n * a single handler that allows a user to prevent lib-defined handlers from\n * firing.\n *\n * @param theirHandler User-supplied event handler\n * @param ourHandler Library-supplied event handler\n */\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n}\n\nexport { composeEventHandlers };\n","import { useState, useCallback } from 'react';\n\n/**\n * Forces a re-render, similar to `forceUpdate` in class components.\n */\n\nfunction useForceUpdate() {\n  var _useState = useState(Object.create(null)),\n      dispatch = _useState[1];\n\n  return useCallback(function () {\n    dispatch(Object.create(null));\n  }, []);\n}\n\nexport { useForceUpdate };\n","import { useContext, useState, useCallback, createElement, useMemo } from 'react';\nimport { useForceUpdate } from '@reach/utils/use-force-update';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { usePrevious } from '@reach/utils/use-previous';\nimport { createNamedContext } from '@reach/utils/context';\nimport { noop } from '@reach/utils/noop';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction createDescendantContext(name, initialValue) {\n  if (initialValue === void 0) {\n    initialValue = {};\n  }\n\n  var descendants = [];\n  return createNamedContext(name, _extends({\n    descendants: descendants,\n    registerDescendant: noop,\n    unregisterDescendant: noop\n  }, initialValue));\n}\n/**\n * This hook registers our descendant by passing it into an array. We can then\n * search that array by to find its index when registering it in the component.\n * We use this for focus management, keyboard navigation, and typeahead\n * functionality for some components.\n *\n * The hook accepts the element node and (optionally) a key. The key is useful\n * if multiple descendants have identical text values and we need to\n * differentiate siblings for some reason.\n *\n * Our main goals with this are:\n *   1) maximum composability,\n *   2) minimal API friction\n *   3) SSR compatibility*\n *   4) concurrent safe\n *   5) index always up-to-date with the tree despite changes\n *   6) works with memoization of any component in the tree (hopefully)\n *\n * * As for SSR, the good news is that we don't actually need the index on the\n * server for most use-cases, as we are only using it to determine the order of\n * composed descendants for keyboard navigation. However, in the few cases where\n * this is not the case, we can require an explicit index from the app.\n */\n\n\nfunction useDescendant(descendant, context, indexProp) {\n  var forceUpdate = useForceUpdate();\n\n  var _React$useContext = useContext(context),\n      registerDescendant = _React$useContext.registerDescendant,\n      unregisterDescendant = _React$useContext.unregisterDescendant,\n      descendants = _React$useContext.descendants; // This will initially return -1 because we haven't registered the descendant\n  // on the first render. After we register, this will then return the correct\n  // index on the following render and we will re-register descendants\n  // so that everything is up-to-date before the user interacts with a\n  // collection.\n\n\n  var index = indexProp != null ? indexProp : descendants.findIndex(function (item) {\n    return item.element === descendant.element;\n  });\n  var previousDescendants = usePrevious(descendants); // We also need to re-register descendants any time ANY of the other\n  // descendants have changed. My brain was melting when I wrote this and it\n  // feels a little off, but checking in render and using the result in the\n  // effect's dependency array works well enough.\n\n  var someDescendantsHaveChanged = descendants.some(function (descendant, index) {\n    var _previousDescendants$;\n\n    return descendant.element !== (previousDescendants == null ? void 0 : (_previousDescendants$ = previousDescendants[index]) == null ? void 0 : _previousDescendants$.element);\n  }); // Prevent any flashing\n\n  useIsomorphicLayoutEffect(function () {\n    if (!descendant.element) forceUpdate();\n    registerDescendant(_extends({}, descendant, {\n      index: index\n    }));\n    return function () {\n      return unregisterDescendant(descendant.element);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [forceUpdate, index, registerDescendant, someDescendantsHaveChanged, unregisterDescendant].concat(Object.values(descendant)));\n  return index;\n}\n\nfunction useDescendantsInit() {\n  return useState([]);\n}\n\nfunction useDescendants(ctx) {\n  return useContext(ctx).descendants;\n}\n\nfunction DescendantProvider(_ref) {\n  var Ctx = _ref.context,\n      children = _ref.children,\n      items = _ref.items,\n      set = _ref.set;\n  var registerDescendant = useCallback(function (_ref2) {\n    var element = _ref2.element,\n        explicitIndex = _ref2.index,\n        rest = _objectWithoutPropertiesLoose(_ref2, [\"element\", \"index\"]);\n\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      var newItems;\n\n      if (explicitIndex != null) {\n        newItems = [].concat(items, [_extends({}, rest, {\n          element: element,\n          index: explicitIndex\n        })]);\n      } else if (items.length === 0) {\n        // If there are no items, register at index 0 and bail.\n        newItems = [].concat(items, [_extends({}, rest, {\n          element: element,\n          index: 0\n        })]);\n      } else if (items.find(function (item) {\n        return item.element === element;\n      })) {\n        // If the element is already registered, just use the same array\n        newItems = items;\n      } else {\n        // When registering a descendant, we need to make sure we insert in\n        // into the array in the same order that it appears in the DOM. So as\n        // new descendants are added or maybe some are removed, we always know\n        // that the array is up-to-date and correct.\n        //\n        // So here we look at our registered descendants and see if the new\n        // element we are adding appears earlier than an existing descendant's\n        // DOM node via `node.compareDocumentPosition`. If it does, we insert\n        // the new element at this index. Because `registerDescendant` will be\n        // called in an effect every time the descendants state value changes,\n        // we should be sure that this index is accurate when descendent\n        // elements come or go from our component.\n        var index = items.findIndex(function (item) {\n          if (!item.element || !element) {\n            return false;\n          } // Does this element's DOM node appear before another item in the\n          // array in our DOM tree? If so, return true to grab the index at\n          // this point in the array so we know where to insert the new\n          // element.\n\n\n          return Boolean(item.element.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_PRECEDING);\n        });\n\n        var newItem = _extends({}, rest, {\n          element: element,\n          index: index\n        }); // If an index is not found we will push the element to the end.\n\n\n        if (index === -1) {\n          newItems = [].concat(items, [newItem]);\n        } else {\n          newItems = [].concat(items.slice(0, index), [newItem], items.slice(index));\n        }\n      }\n\n      return newItems.map(function (item, index) {\n        return _extends({}, item, {\n          index: index\n        });\n      });\n    });\n  }, // set is a state setter initialized by the useDescendantsInit hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var unregisterDescendant = useCallback(function (element) {\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      return items.filter(function (item) {\n        return element !== item.element;\n      });\n    });\n  }, // set is a state setter initialized by the useDescendantsInit hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  return /*#__PURE__*/createElement(Ctx.Provider, {\n    value: useMemo(function () {\n      return {\n        descendants: items,\n        registerDescendant: registerDescendant,\n        unregisterDescendant: unregisterDescendant\n      };\n    }, [items, registerDescendant, unregisterDescendant])\n  }, children);\n}\n/**\n * Testing this as an abstraction for compound components that use keyboard\n * navigation. Hoping this will help us prevent bugs and mismatched behavior\n * across various components, but it may also prove to be too messy of an\n * abstraction in the end.\n *\n * Currently used in:\n *   - Tabs\n *   - Accordion\n *\n * @param context\n * @param options\n */\n\n\nfunction useDescendantKeyDown(context, options) {\n  var _React$useContext2 = useContext(context),\n      descendants = _React$useContext2.descendants;\n\n  var callback = options.callback,\n      currentIndex = options.currentIndex,\n      filter = options.filter,\n      _options$key = options.key,\n      key = _options$key === void 0 ? \"index\" : _options$key,\n      _options$orientation = options.orientation,\n      orientation = _options$orientation === void 0 ? \"vertical\" : _options$orientation,\n      _options$rotate = options.rotate,\n      rotate = _options$rotate === void 0 ? true : _options$rotate,\n      _options$rtl = options.rtl,\n      rtl = _options$rtl === void 0 ? false : _options$rtl;\n  return function handleKeyDown(event) {\n    if (![\"ArrowDown\", \"ArrowUp\", \"ArrowLeft\", \"ArrowRight\", \"PageUp\", \"PageDown\", \"Home\", \"End\"].includes(event.key)) {\n      return;\n    }\n\n    var index = currentIndex != null ? currentIndex : -1; // If we use a filter function, we need to re-index our descendants array\n    // so that filtered descendent elements aren't selected.\n\n    var selectableDescendants = filter ? descendants.filter(filter) : descendants; // Current index should map to the updated array vs. the original\n    // descendants array.\n\n    if (filter) {\n      index = selectableDescendants.findIndex(function (descendant) {\n        return descendant.index === currentIndex;\n      });\n    } // We need some options for any of this to work!\n\n\n    if (!selectableDescendants.length) {\n      return;\n    }\n\n    function getNextOption() {\n      var atBottom = index === selectableDescendants.length - 1;\n      return atBottom ? rotate ? getFirstOption() : selectableDescendants[index] : selectableDescendants[(index + 1) % selectableDescendants.length];\n    }\n\n    function getPreviousOption() {\n      var atTop = index === 0;\n      return atTop ? rotate ? getLastOption() : selectableDescendants[index] : selectableDescendants[(index - 1 + selectableDescendants.length) % selectableDescendants.length];\n    }\n\n    function getFirstOption() {\n      return selectableDescendants[0];\n    }\n\n    function getLastOption() {\n      return selectableDescendants[selectableDescendants.length - 1];\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var next = getNextOption();\n          callback(key === \"option\" ? next : next[key]);\n        }\n\n        break;\n\n      case \"ArrowUp\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var prev = getPreviousOption();\n          callback(key === \"option\" ? prev : prev[key]);\n        }\n\n        break;\n\n      case \"ArrowLeft\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var nextOrPrev = (rtl ? getNextOption : getPreviousOption)();\n          callback(key === \"option\" ? nextOrPrev : nextOrPrev[key]);\n        }\n\n        break;\n\n      case \"ArrowRight\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var prevOrNext = (rtl ? getPreviousOption : getNextOption)();\n          callback(key === \"option\" ? prevOrNext : prevOrNext[key]);\n        }\n\n        break;\n\n      case \"PageUp\":\n        event.preventDefault();\n        var prevOrFirst = (event.ctrlKey ? getPreviousOption : getFirstOption)();\n        callback(key === \"option\" ? prevOrFirst : prevOrFirst[key]);\n        break;\n\n      case \"Home\":\n        event.preventDefault();\n        var first = getFirstOption();\n        callback(key === \"option\" ? first : first[key]);\n        break;\n\n      case \"PageDown\":\n        event.preventDefault();\n        var nextOrLast = (event.ctrlKey ? getNextOption : getLastOption)();\n        callback(key === \"option\" ? nextOrLast : nextOrLast[key]);\n        break;\n\n      case \"End\":\n        event.preventDefault();\n        var last = getLastOption();\n        callback(key === \"option\" ? last : last[key]);\n        break;\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport { DescendantProvider, createDescendantContext, useDescendant, useDescendantKeyDown, useDescendants, useDescendantsInit };\n","import { useRef, useEffect } from 'react';\n\n/**\n * Returns the previous value of a reference after a component update.\n *\n * @param value\n */\n\nfunction usePrevious(value) {\n  var ref = useRef(null);\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nexport { usePrevious };\n","import { useState, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\n\n/*\n * Welcome to @reach/auto-id!\n\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibiliy APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. This\n * causes a double render on any components with `useId`. Shouldn't be a problem\n * since the components using this hook should be small, and we're only updating\n * the ID attribute on the DOM, nothing big is happening.\n *\n * It doesn't have to be an incremented number, though--we could do generate\n * random strings instead, but incrementing a number is probably the cheapest\n * thing we can do.\n *\n * Additionally, we only do this patchup on the very first client render ever.\n * Any calls to `useId` that happen dynamically in the client will be\n * populated immediately with a value. So, we only get the double render after\n * server hydration and never again, SO BACK OFF ALRIGHT?\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\n * useId\n *\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n *\n * Note: The returned ID will initially be `null` and will update after a\n * component mounts. Users may need to supply their own ID if they need\n * consistent values for SSR.\n *\n * @see Docs https://reach.tech/auto-id\n */\n\n\nfunction useId(idFromProps) {\n  /*\n   * If this instance isn't part of the initial render, we don't have to do the\n   * double render/patch-up dance. We can just generate the ID and return it.\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _React$useState = useState(initialId),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    if (id === null) {\n      /*\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n       * rendering flicker, though it'll make the first render slower (unlikely\n       * to matter, but you're welcome to measure your app and let us know if\n       * it's a problem).\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (serverHandoffComplete === false) {\n      /*\n       * Flag all future uses of `useId` to skip the update dance. This is in\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n       * accidentally bail out of the patch-up dance prematurely.\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n}\n\nexport { useId };\n","import { useRef, createElement } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { useForceUpdate } from '@reach/utils/use-force-update';\nimport { createPortal } from 'react-dom';\n\n/**\n * Welcome to @reach/portal!\n *\n * Creates and appends a DOM node to the end of `document.body` and renders a\n * React tree into it. Useful for rendering a natural React element hierarchy\n * with a different DOM hierarchy to prevent parent styles from clipping or\n * hiding content (for popovers, dropdowns, and modals).\n *\n * @see Docs   https://reach.tech/portal\n * @see Source https://github.com/reach/reach-ui/tree/main/packages/portal\n * @see React  https://reactjs.org/docs/portals.html\n */\n/**\n * Portal\n *\n * @see Docs https://reach.tech/portal#portal\n */\n\nvar Portal = function Portal(_ref) {\n  var children = _ref.children,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"reach-portal\" : _ref$type;\n  var mountNode = useRef(null);\n  var portalNode = useRef(null);\n  var forceUpdate = useForceUpdate();\n  useIsomorphicLayoutEffect(function () {\n    // This ref may be null when a hot-loader replaces components on the page\n    if (!mountNode.current) return; // It's possible that the content of the portal has, itself, been portaled.\n    // In that case, it's important to append to the correct document element.\n\n    var ownerDocument = mountNode.current.ownerDocument;\n    portalNode.current = ownerDocument == null ? void 0 : ownerDocument.createElement(type);\n    ownerDocument.body.appendChild(portalNode.current);\n    forceUpdate();\n    return function () {\n      if (portalNode.current && portalNode.current.ownerDocument) {\n        portalNode.current.ownerDocument.body.removeChild(portalNode.current);\n      }\n    };\n  }, [type, forceUpdate]);\n  return portalNode.current ? /*#__PURE__*/createPortal(children, portalNode.current) : /*#__PURE__*/createElement(\"span\", {\n    ref: mountNode\n  });\n};\n/**\n * @see Docs https://reach.tech/portal#portal-props\n */\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  Portal.displayName = \"Portal\";\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default Portal;\nexport { Portal };\n","let props: (keyof DOMRect)[] = [\n\t\"bottom\",\n\t\"height\",\n\t\"left\",\n\t\"right\",\n\t\"top\",\n\t\"width\",\n];\n\nlet rectChanged = (a: DOMRect = {} as DOMRect, b: DOMRect = {} as DOMRect) =>\n\tprops.some((prop) => a[prop] !== b[prop]);\n\nlet observedNodes = new Map<Element, RectProps>();\nlet rafId: number;\n\nlet run = () => {\n\tconst changedStates: RectProps[] = [];\n\tobservedNodes.forEach((state, node) => {\n\t\tlet newRect = node.getBoundingClientRect();\n\t\tif (rectChanged(newRect, state.rect)) {\n\t\t\tstate.rect = newRect;\n\t\t\tchangedStates.push(state);\n\t\t}\n\t});\n\n\tchangedStates.forEach((state) => {\n\t\tstate.callbacks.forEach((cb) => cb(state.rect));\n\t});\n\n\trafId = window.requestAnimationFrame(run);\n};\n\nexport default function observeRect(\n\tnode: Element,\n\tcb: (rect: DOMRect) => void\n) {\n\treturn {\n\t\tobserve() {\n\t\t\tlet wasEmpty = observedNodes.size === 0;\n\t\t\tif (observedNodes.has(node)) {\n\t\t\t\tobservedNodes.get(node)!.callbacks.push(cb);\n\t\t\t} else {\n\t\t\t\tobservedNodes.set(node, {\n\t\t\t\t\trect: undefined,\n\t\t\t\t\thasRectChanged: false,\n\t\t\t\t\tcallbacks: [cb],\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (wasEmpty) run();\n\t\t},\n\n\t\tunobserve() {\n\t\t\tlet state = observedNodes.get(node);\n\t\t\tif (state) {\n\t\t\t\t// Remove the callback\n\t\t\t\tconst index = state.callbacks.indexOf(cb);\n\t\t\t\tif (index >= 0) state.callbacks.splice(index, 1);\n\n\t\t\t\t// Remove the node reference\n\t\t\t\tif (!state.callbacks.length) observedNodes.delete(node);\n\n\t\t\t\t// Stop the loop\n\t\t\t\tif (!observedNodes.size) cancelAnimationFrame(rafId);\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport type PartialRect = Partial<DOMRect>;\n\nexport type RectProps = {\n\trect: DOMRect | undefined;\n\thasRectChanged: boolean;\n\tcallbacks: Function[];\n};\n","import { useRef, useEffect, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport observeRect from '@reach/observe-rect';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { isBoolean, isFunction } from '@reach/utils/type-check';\nimport warning from 'tiny-warning';\n\n/**\n * Welcome to @reach/rect!\n *\n * Measures DOM elements (aka. bounding client rect).\n *\n * @see getBoundingClientRect https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n * @see Docs                  https://reach.tech/rect\n * @see Source                https://github.com/reach/reach-ui/tree/main/packages/rect\n */\n\n/**\n * Rect\n *\n * @param props\n */\n\nvar Rect = function Rect(_ref) {\n  var onChange = _ref.onChange,\n      _ref$observe = _ref.observe,\n      observe = _ref$observe === void 0 ? true : _ref$observe,\n      children = _ref.children;\n  var ref = useRef(null);\n  var rect = useRect(ref, {\n    observe: observe,\n    onChange: onChange\n  });\n  return children({\n    ref: ref,\n    rect: rect\n  });\n};\n/**\n * @see Docs https://reach.tech/rect#rect-props\n */\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  Rect.displayName = \"Rect\";\n  Rect.propTypes = {\n    children: PropTypes.func.isRequired,\n    observe: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n\n/**\n * useRect\n *\n * @param nodeRef\n * @param observe\n * @param onChange\n */\nfunction useRect(nodeRef, observeOrOptions, deprecated_onChange) {\n  var observe;\n  var onChange;\n\n  if (isBoolean(observeOrOptions)) {\n    observe = observeOrOptions;\n  } else {\n    var _observeOrOptions$obs;\n\n    observe = (_observeOrOptions$obs = observeOrOptions == null ? void 0 : observeOrOptions.observe) != null ? _observeOrOptions$obs : true;\n    onChange = observeOrOptions == null ? void 0 : observeOrOptions.onChange;\n  }\n\n  if (isFunction(deprecated_onChange)) {\n    onChange = deprecated_onChange;\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      process.env.NODE_ENV !== \"production\" ? warning(!isBoolean(observeOrOptions), \"Passing `observe` as the second argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `observe` property as the second argument (`useRect(ref, { observe })`).\\n\" + \"See https://reach.tech/rect#userect-observe\") : void 0;\n    }, [observeOrOptions]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    useEffect(function () {\n      process.env.NODE_ENV !== \"production\" ? warning(!isFunction(deprecated_onChange), \"Passing `onChange` as the third argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `onChange` property as the second argument (`useRect(ref, { onChange })`).\\n\" + \"See https://reach.tech/rect#userect-onchange\") : void 0;\n    }, [deprecated_onChange]);\n  }\n\n  var _React$useState = useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var initialRectIsSet = useRef(false);\n  var initialRefIsSet = useRef(false);\n\n  var _React$useState2 = useState(null),\n      rect = _React$useState2[0],\n      setRect = _React$useState2[1];\n\n  var onChangeRef = useRef(onChange);\n  var stableOnChange = useCallback(function (rect) {\n    onChangeRef.current && onChangeRef.current(rect);\n  }, []); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useIsomorphicLayoutEffect(function () {\n    onChangeRef.current = onChange;\n\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectIsSet.current) {\n      initialRectIsSet.current = true;\n      setRect(element.getBoundingClientRect());\n    }\n  }, [element]);\n  useIsomorphicLayoutEffect(function () {\n    var observer;\n    var elem = element; // State initializes before refs are placed, meaning the element state will\n    // be undefined on the first render. We still want the rect on the first\n    // render, so initially we'll use the nodeRef that was passed instead of\n    // state for our measurements.\n\n    if (!initialRefIsSet.current) {\n      initialRefIsSet.current = true;\n      elem = nodeRef.current;\n    }\n\n    if (!elem) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"You need to place the ref\");\n      }\n\n      return cleanup;\n    }\n\n    observer = observeRect(elem, function (rect) {\n      stableOnChange(rect);\n      setRect(rect);\n    });\n    observe && observer.observe();\n    return cleanup;\n\n    function cleanup() {\n      observer && observer.unobserve();\n    }\n  }, [observe, element, nodeRef, stableOnChange]);\n  return rect;\n}\n\nexport default Rect;\nexport { Rect, useRect };\n","import { forwardRef, createElement, useRef, useEffect } from 'react';\nimport { Portal } from '@reach/portal';\nimport { useRect } from '@reach/rect';\nimport { getOwnerDocument } from '@reach/utils/owner-document';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport tabbable from 'tabbable';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Popover\n */\nvar Popover = /*#__PURE__*/forwardRef(function Popover(props, ref) {\n  return /*#__PURE__*/createElement(Portal, null, /*#__PURE__*/createElement(PopoverImpl, _extends({\n    ref: ref\n  }, props)));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Popover.displayName = \"Popover\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * PopoverImpl\n *\n * Popover is conditionally rendered so we can't start measuring until it shows\n * up, so useRect needs to live down here not up in Popover\n */\n\n\nvar PopoverImpl = /*#__PURE__*/forwardRef(function PopoverImpl(_ref, forwardedRef) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      targetRef = _ref.targetRef,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? positionDefault : _ref$position,\n      _ref$unstable_observa = _ref.unstable_observableRefs,\n      unstable_observableRefs = _ref$unstable_observa === void 0 ? [] : _ref$unstable_observa,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"targetRef\", \"position\", \"unstable_observableRefs\"]);\n\n  var popoverRef = useRef(null);\n  var popoverRect = useRect(popoverRef, {\n    observe: !props.hidden\n  });\n  var targetRect = useRect(targetRef, {\n    observe: !props.hidden\n  });\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"data-reach-popover\": \"\",\n    ref: ref\n  }, props, {\n    style: _extends({\n      position: \"absolute\"\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverImpl.displayName = \"PopoverImpl\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction getStyles(position, targetRect, popoverRect) {\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    unstable_observableRefs[_key - 3] = arguments[_key];\n  }\n\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\n    return ref.current;\n  }))) : {\n    visibility: \"hidden\"\n  };\n}\n\nfunction getTopPosition(targetRect, popoverRect, isDirectionUp) {\n  return {\n    top: isDirectionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\n  };\n}\n\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions = getCollisions(targetRect, popoverRect),\n      directionRight = _getCollisions.directionRight,\n      directionUp = _getCollisions.directionUp;\n\n  return _extends({\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionRight = function positionRight(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\n      directionLeft = _getCollisions2.directionLeft,\n      directionUp = _getCollisions2.directionUp;\n\n  return _extends({\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\n      directionUp = _getCollisions3.directionUp;\n\n  return _extends({\n    width: targetRect.width,\n    left: targetRect.left\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\n  if (offsetLeft === void 0) {\n    offsetLeft = 0;\n  }\n\n  if (offsetBottom === void 0) {\n    offsetBottom = 0;\n  }\n\n  var collisions = {\n    top: targetRect.top - popoverRect.height < 0,\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\n  };\n  var directionRight = collisions.right && !collisions.left;\n  var directionLeft = collisions.left && !collisions.right;\n  var directionUp = collisions.bottom && !collisions.top;\n  var directionDown = collisions.top && !collisions.bottom;\n  return {\n    directionRight: directionRight,\n    directionLeft: directionLeft,\n    directionUp: directionUp,\n    directionDown: directionDown\n  };\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\n\n\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\n  var ownerDocument = getOwnerDocument(triggerRef.current);\n\n  function handleKeyDown(event) {\n    if (event.key === \"Tab\" && popoverRef.current && tabbable(popoverRef.current).length === 0) {\n      return;\n    }\n\n    if (event.key === \"Tab\" && event.shiftKey) {\n      if (shiftTabbedFromElementAfterTrigger(event)) {\n        focusLastTabbableInPopover(event);\n      } else if (shiftTabbedOutOfPopover(event)) {\n        focusTriggerRef(event);\n      } else if (shiftTabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    } else if (event.key === \"Tab\") {\n      if (tabbedFromTriggerToPopover()) {\n        focusFirstPopoverTabbable(event);\n      } else if (tabbedOutOfPopover()) {\n        focusTabbableAfterTrigger(event);\n      } else if (tabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    }\n  }\n\n  useEffect(function () {\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown);\n    return function () {\n      ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function getElementAfterTrigger() {\n    var elements = tabbable(ownerDocument);\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\n  }\n\n  function tabbedFromTriggerToPopover() {\n    return triggerRef.current ? triggerRef.current === ownerDocument.activeElement : false;\n  }\n\n  function focusFirstPopoverTabbable(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements && elements[0]) {\n      event.preventDefault();\n      elements[0].focus();\n    }\n  }\n\n  function tabbedOutOfPopover() {\n    var inPopover = popoverRef.current ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\n\n    if (inPopover) {\n      var elements = popoverRef.current && tabbable(popoverRef.current);\n      return Boolean(elements && elements[elements.length - 1] === ownerDocument.activeElement);\n    }\n\n    return false;\n  }\n\n  function focusTabbableAfterTrigger(event) {\n    var elementAfterTrigger = getElementAfterTrigger();\n\n    if (elementAfterTrigger) {\n      event.preventDefault();\n      elementAfterTrigger.focus();\n    }\n  }\n\n  function shiftTabbedFromElementAfterTrigger(event) {\n    if (!event.shiftKey) return;\n    var elementAfterTrigger = getElementAfterTrigger();\n    return event.target === elementAfterTrigger;\n  }\n\n  function focusLastTabbableInPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n    var last = elements && elements[elements.length - 1];\n\n    if (last) {\n      event.preventDefault();\n      last.focus();\n    }\n  }\n\n  function shiftTabbedOutOfPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      return elements.length === 0 ? false : event.target === elements[0];\n    }\n\n    return false;\n  }\n\n  function focusTriggerRef(event) {\n    var _triggerRef$current;\n\n    event.preventDefault();\n    (_triggerRef$current = triggerRef.current) == null ? void 0 : _triggerRef$current.focus();\n  }\n\n  function tabbedToBrowserChrome(event) {\n    var elements = popoverRef.current ? tabbable(ownerDocument).filter(function (element) {\n      return !popoverRef.current.contains(element);\n    }) : null;\n    return elements ? event.target === elements[elements.length - 1] : false;\n  }\n\n  function shiftTabbedToBrowserChrome(event) {\n    // we're assuming the popover will never contain the first tabbable\n    // element, and it better not, because the trigger needs to be tabbable!\n    return event.target === tabbable(ownerDocument)[0];\n  }\n\n  var restoreTabIndexTuplÃ©s = [];\n\n  function disableTabbablesInPopover() {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      elements.forEach(function (element) {\n        restoreTabIndexTuplÃ©s.push([element, element.tabIndex]);\n        element.tabIndex = -1;\n      });\n      ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n    }\n  }\n\n  function enableTabbablesInPopover() {\n    ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n    restoreTabIndexTuplÃ©s.forEach(function (_ref2) {\n      var element = _ref2[0],\n          tabIndex = _ref2[1];\n      element.tabIndex = tabIndex;\n    });\n  }\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default Popover;\nexport { Popover, getCollisions, positionDefault, positionMatchWidth, positionRight };\n","import { forwardRef, useRef, createElement, useContext, useCallback, useEffect, useMemo, Fragment, useState, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { getOwnerDocument } from '@reach/utils/owner-document';\nimport { createNamedContext } from '@reach/utils/context';\nimport { isFunction } from '@reach/utils/type-check';\nimport { makeId } from '@reach/utils/make-id';\nimport { noop } from '@reach/utils/noop';\nimport { useCheckStyles } from '@reach/utils/dev-utils';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport { useLazyRef } from '@reach/utils/use-lazy-ref';\nimport { useUpdateEffect } from '@reach/utils/use-update-effect';\nimport { composeEventHandlers } from '@reach/utils/compose-event-handlers';\nimport { createDescendantContext, useDescendantsInit, DescendantProvider, useDescendant, useDescendants } from '@reach/descendants';\nimport { useId } from '@reach/auto-id';\nimport { Popover, positionMatchWidth } from '@reach/popover';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// Forked from https://github.com/bvaughn/highlight-words-core\n\n/**\n * Creates an array of chunk objects representing both higlightable and non\n * highlightable pieces of text that match each search word.\n *\n * @return Array of \"chunk\" objects\n */\nfunction findAll(_ref) {\n  var autoEscape = _ref.autoEscape,\n      _ref$caseSensitive = _ref.caseSensitive,\n      caseSensitive = _ref$caseSensitive === void 0 ? false : _ref$caseSensitive,\n      _ref$findChunks = _ref.findChunks,\n      findChunks = _ref$findChunks === void 0 ? defaultFindChunks : _ref$findChunks,\n      sanitize = _ref.sanitize,\n      searchWords = _ref.searchWords,\n      textToHighlight = _ref.textToHighlight;\n  return fillInChunks({\n    chunksToHighlight: combineChunks({\n      chunks: findChunks({\n        autoEscape: autoEscape,\n        caseSensitive: caseSensitive,\n        sanitize: sanitize,\n        searchWords: searchWords,\n        textToHighlight: textToHighlight\n      })\n    }),\n    totalLength: textToHighlight ? textToHighlight.length : 0\n  });\n}\n/**\n * Takes an array of \"chunk\" objects and combines chunks that overlap into\n * single chunks.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction combineChunks(_ref2) {\n  var chunks = _ref2.chunks;\n  return chunks.sort(function (first, second) {\n    return first.start - second.start;\n  }).reduce(function (processedChunks, nextChunk) {\n    // First chunk just goes straight in the array...\n    if (processedChunks.length === 0) {\n      return [nextChunk];\n    } else {\n      // ... subsequent chunks get checked to see if they overlap...\n      var prevChunk = processedChunks.pop();\n\n      if (nextChunk.start <= prevChunk.end) {\n        // It may be the case that prevChunk completely surrounds nextChunk, so take the\n        // largest of the end indeces.\n        var endIndex = Math.max(prevChunk.end, nextChunk.end);\n        processedChunks.push({\n          highlight: false,\n          start: prevChunk.start,\n          end: endIndex\n        });\n      } else {\n        processedChunks.push(prevChunk, nextChunk);\n      }\n\n      return processedChunks;\n    }\n  }, []);\n}\n/**\n * Examine text for any matches. If we find matches, add them to the returned\n * array as a \"chunk\" object.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction defaultFindChunks(_ref3) {\n  var autoEscape = _ref3.autoEscape,\n      caseSensitive = _ref3.caseSensitive,\n      _ref3$sanitize = _ref3.sanitize,\n      sanitize = _ref3$sanitize === void 0 ? defaultSanitize : _ref3$sanitize,\n      searchWords = _ref3.searchWords,\n      textToHighlight = _ref3.textToHighlight;\n  textToHighlight = sanitize(textToHighlight || \"\");\n  return searchWords.filter(function (searchWord) {\n    return searchWord;\n  }) // Remove empty words\n  .reduce(function (chunks, searchWord) {\n    searchWord = sanitize(searchWord);\n\n    if (autoEscape) {\n      searchWord = escapeRegExpFn(searchWord);\n    }\n\n    var regex = new RegExp(searchWord, caseSensitive ? \"g\" : \"gi\");\n    var match;\n\n    while (match = regex.exec(textToHighlight || \"\")) {\n      var start = match.index;\n      var end = regex.lastIndex; // We do not return zero-length matches\n\n      if (end > start) {\n        chunks.push({\n          highlight: false,\n          start: start,\n          end: end\n        });\n      } // Prevent browsers like Firefox from getting stuck in an infinite loop\n      // See http://www.regexguru.com/2008/04/watch-out-for-zero-length-matches/\n\n\n      if (match.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n    }\n\n    return chunks;\n  }, []);\n}\n/**\n * Given a set of chunks to highlight, create an additional set of chunks\n * to represent the bits of text between the highlighted text.\n *\n * @return Array of \"chunk\" objects\n */\n\n\nfunction fillInChunks(_ref4) {\n  var chunksToHighlight = _ref4.chunksToHighlight,\n      totalLength = _ref4.totalLength;\n  var allChunks = [];\n\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false);\n  } else {\n    var lastIndex = 0;\n    chunksToHighlight.forEach(function (chunk) {\n      append(lastIndex, chunk.start, false);\n      append(chunk.start, chunk.end, true);\n      lastIndex = chunk.end;\n    });\n    append(lastIndex, totalLength, false);\n  }\n\n  return allChunks;\n\n  function append(start, end, highlight) {\n    if (end - start > 0) {\n      allChunks.push({\n        start: start,\n        end: end,\n        highlight: highlight\n      });\n    }\n  }\n}\n\nfunction defaultSanitize(string) {\n  return string;\n}\n\nfunction escapeRegExpFn(string) {\n  return string.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\");\n}\n\nvar HighlightWords = {\n  combineChunks: combineChunks,\n  fillInChunks: fillInChunks,\n  findAll: findAll,\n  findChunks: defaultFindChunks\n};\n\nvar _on, _on2, _on3, _on4, _states;\n////////////////////////////////////////////////////////////////////////////////\n// States\n// Nothing going on, waiting for the user to type or use the arrow keys\nvar IDLE = \"IDLE\"; // The component is suggesting options as the user types\n\nvar SUGGESTING = \"SUGGESTING\"; // The user is using the keyboard to navigate the list, not typing\n\nvar NAVIGATING = \"NAVIGATING\"; // The user is interacting with arbitrary elements inside the popup that\n// are not ComboboxInputs\n\nvar INTERACTING = \"INTERACTING\"; ////////////////////////////////////////////////////////////////////////////////\n// Events\n// User cleared the value w/ backspace, but input still has focus\n\nvar CLEAR = \"CLEAR\"; // User is typing\n\nvar CHANGE = \"CHANGE\"; // Initial input value change handler for syncing user state with state machine\n// Prevents initial change from sending the user to the NAVIGATING state\n// https://github.com/reach/reach-ui/issues/464\n\nvar INITIAL_CHANGE = \"INITIAL_CHANGE\"; // User is navigating w/ the keyboard\n\nvar NAVIGATE = \"NAVIGATE\"; // User can be navigating with keyboard and then click instead, we want the\n// value from the click, not the current nav item\n\nvar SELECT_WITH_KEYBOARD = \"SELECT_WITH_KEYBOARD\";\nvar SELECT_WITH_CLICK = \"SELECT_WITH_CLICK\"; // Pretty self-explanatory, user can hit escape or blur to close the popover\n\nvar ESCAPE = \"ESCAPE\";\nvar BLUR = \"BLUR\"; // The user left the input to interact with arbitrary elements inside the popup\n\nvar INTERACT = \"INTERACT\";\nvar FOCUS = \"FOCUS\";\nvar OPEN_WITH_BUTTON = \"OPEN_WITH_BUTTON\";\nvar CLOSE_WITH_BUTTON = \"CLOSE_WITH_BUTTON\"; ////////////////////////////////////////////////////////////////////////////////\n\nvar stateChart = {\n  initial: IDLE,\n  states: (_states = {}, _states[IDLE] = {\n    on: (_on = {}, _on[BLUR] = IDLE, _on[CLEAR] = IDLE, _on[CHANGE] = SUGGESTING, _on[INITIAL_CHANGE] = IDLE, _on[FOCUS] = SUGGESTING, _on[NAVIGATE] = NAVIGATING, _on[OPEN_WITH_BUTTON] = SUGGESTING, _on)\n  }, _states[SUGGESTING] = {\n    on: (_on2 = {}, _on2[CHANGE] = SUGGESTING, _on2[FOCUS] = SUGGESTING, _on2[NAVIGATE] = NAVIGATING, _on2[CLEAR] = IDLE, _on2[ESCAPE] = IDLE, _on2[BLUR] = IDLE, _on2[SELECT_WITH_CLICK] = IDLE, _on2[INTERACT] = INTERACTING, _on2[CLOSE_WITH_BUTTON] = IDLE, _on2)\n  }, _states[NAVIGATING] = {\n    on: (_on3 = {}, _on3[CHANGE] = SUGGESTING, _on3[FOCUS] = SUGGESTING, _on3[CLEAR] = IDLE, _on3[BLUR] = IDLE, _on3[ESCAPE] = IDLE, _on3[NAVIGATE] = NAVIGATING, _on3[SELECT_WITH_CLICK] = IDLE, _on3[SELECT_WITH_KEYBOARD] = IDLE, _on3[CLOSE_WITH_BUTTON] = IDLE, _on3[INTERACT] = INTERACTING, _on3)\n  }, _states[INTERACTING] = {\n    on: (_on4 = {}, _on4[CLEAR] = IDLE, _on4[CHANGE] = SUGGESTING, _on4[FOCUS] = SUGGESTING, _on4[BLUR] = IDLE, _on4[ESCAPE] = IDLE, _on4[NAVIGATE] = NAVIGATING, _on4[CLOSE_WITH_BUTTON] = IDLE, _on4[SELECT_WITH_CLICK] = IDLE, _on4)\n  }, _states)\n};\n\nvar reducer = function reducer(data, event) {\n  var nextState = _extends({}, data, {\n    lastEventType: event.type\n  });\n\n  switch (event.type) {\n    case CHANGE:\n    case INITIAL_CHANGE:\n      return _extends({}, nextState, {\n        navigationValue: null,\n        value: event.value\n      });\n\n    case NAVIGATE:\n    case OPEN_WITH_BUTTON:\n      return _extends({}, nextState, {\n        navigationValue: findNavigationValue(nextState, event)\n      });\n\n    case CLEAR:\n      return _extends({}, nextState, {\n        value: \"\",\n        navigationValue: null\n      });\n\n    case BLUR:\n    case ESCAPE:\n      return _extends({}, nextState, {\n        navigationValue: null\n      });\n\n    case SELECT_WITH_CLICK:\n      return _extends({}, nextState, {\n        value: event.value,\n        navigationValue: null\n      });\n\n    case SELECT_WITH_KEYBOARD:\n      return _extends({}, nextState, {\n        value: data.navigationValue,\n        navigationValue: null\n      });\n\n    case CLOSE_WITH_BUTTON:\n      return _extends({}, nextState, {\n        navigationValue: null\n      });\n\n    case INTERACT:\n      return nextState;\n\n    case FOCUS:\n      return _extends({}, nextState, {\n        navigationValue: findNavigationValue(nextState, event)\n      });\n\n    default:\n      return nextState;\n  }\n};\n\nfunction popoverIsExpanded(state) {\n  return [SUGGESTING, NAVIGATING, INTERACTING].includes(state);\n}\n/**\n * When we open a list, set the navigation value to the value in the input, if\n * it's in the list, then it'll automatically be highlighted.\n *\n * @param stateData\n * @param event\n */\n\n\nfunction findNavigationValue(stateData, event) {\n  // @ts-ignore\n  if (event.value) {\n    // @ts-ignore\n    return event.value; // @ts-ignore\n  } else if (event.persistSelection) {\n    return stateData.value;\n  } else {\n    return null;\n  }\n}\n\nvar ComboboxDescendantContext = /*#__PURE__*/createDescendantContext(\"ComboboxDescendantContext\");\nvar ComboboxContext = /*#__PURE__*/createNamedContext(\"ComboboxContext\", {}); // Allows us to put the option's value on context so that ComboboxOptionText\n// can work it's highlight text magic no matter what else is rendered around\n// it.\n\nvar OptionContext = /*#__PURE__*/createNamedContext(\"OptionContext\", {}); ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Combobox\n *\n * @see Docs https://reach.tech/combobox#combobox\n */\n\nvar Combobox = /*#__PURE__*/forwardRef(function Combobox(_ref, forwardedRef) {\n  var _data$navigationValue;\n\n  var onSelect = _ref.onSelect,\n      _ref$openOnFocus = _ref.openOnFocus,\n      openOnFocus = _ref$openOnFocus === void 0 ? false : _ref$openOnFocus,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      ariaLabel = _ref[\"aria-label\"],\n      ariaLabelledby = _ref[\"aria-labelledby\"],\n      props = _objectWithoutPropertiesLoose(_ref, [\"onSelect\", \"openOnFocus\", \"children\", \"as\", \"aria-label\", \"aria-labelledby\"]);\n\n  var _useDescendantsInit = useDescendantsInit(),\n      options = _useDescendantsInit[0],\n      setOptions = _useDescendantsInit[1]; // Need this to focus it\n\n\n  var inputRef = useRef();\n  var popoverRef = useRef();\n  var buttonRef = useRef(); // When <ComboboxInput autocomplete={false} /> we don't want cycle back to\n  // the user's value while navigating (because it's always the user's value),\n  // but we need to know this in useKeyDown which is far away from the prop\n  // here, so we do something sneaky and write it to this ref on context so we\n  // can use it anywhere else ð. Another new trick for me and I'm excited\n  // about this one too!\n\n  var autocompletePropRef = useRef();\n  var persistSelectionRef = useRef();\n  var defaultData = {\n    // The value the user has typed. We derive this also when the developer is\n    // controlling the value of ComboboxInput.\n    value: \"\",\n    // the value the user has navigated to with the keyboard\n    navigationValue: null\n  };\n\n  var _useReducerMachine = useReducerMachine(stateChart, reducer, defaultData),\n      state = _useReducerMachine[0],\n      data = _useReducerMachine[1],\n      transition = _useReducerMachine[2];\n\n  useFocusManagement(data.lastEventType, inputRef);\n  var id = useId(props.id);\n  var listboxId = id ? makeId(\"listbox\", id) : \"listbox\";\n  var context = {\n    ariaLabel: ariaLabel,\n    ariaLabelledby: ariaLabelledby,\n    autocompletePropRef: autocompletePropRef,\n    buttonRef: buttonRef,\n    comboboxId: id,\n    data: data,\n    inputRef: inputRef,\n    isExpanded: popoverIsExpanded(state),\n    listboxId: listboxId,\n    onSelect: onSelect || noop,\n    openOnFocus: openOnFocus,\n    persistSelectionRef: persistSelectionRef,\n    popoverRef: popoverRef,\n    state: state,\n    transition: transition\n  };\n  useCheckStyles(\"combobox\");\n  return /*#__PURE__*/createElement(DescendantProvider, {\n    context: ComboboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, /*#__PURE__*/createElement(ComboboxContext.Provider, {\n    value: context\n  }, /*#__PURE__*/createElement(Comp, _extends({}, props, {\n    \"data-reach-combobox\": \"\",\n    \"data-state\": getDataState(state),\n    ref: forwardedRef\n  }), isFunction(children) ? children({\n    id: id,\n    isExpanded: popoverIsExpanded(state),\n    navigationValue: (_data$navigationValue = data.navigationValue) != null ? _data$navigationValue : null,\n    state: state\n  }) : children)));\n});\n/**\n * @see Docs https://reach.tech/combobox#combobox-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  Combobox.displayName = \"Combobox\";\n  Combobox.propTypes = {\n    as: PropTypes.any,\n    onSelect: PropTypes.func,\n    openOnFocus: PropTypes.bool\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxInput\n *\n * Wraps an `<input/>` with a couple extra props that work with the combobox.\n *\n * @see Docs https://reach.tech/combobox#comboboxinput\n */\n\n\nvar ComboboxInput = /*#__PURE__*/forwardRef(function ComboboxInput(_ref2, forwardedRef) {\n  var _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"input\" : _ref2$as,\n      _ref2$selectOnClick = _ref2.selectOnClick,\n      selectOnClick = _ref2$selectOnClick === void 0 ? false : _ref2$selectOnClick,\n      _ref2$autocomplete = _ref2.autocomplete,\n      autocomplete = _ref2$autocomplete === void 0 ? true : _ref2$autocomplete,\n      onClick = _ref2.onClick,\n      onChange = _ref2.onChange,\n      onKeyDown = _ref2.onKeyDown,\n      onBlur = _ref2.onBlur,\n      onFocus = _ref2.onFocus,\n      controlledValue = _ref2.value,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"as\", \"selectOnClick\", \"autocomplete\", \"onClick\", \"onChange\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"value\"]);\n\n  // https://github.com/reach/reach-ui/issues/464\n  var _React$useRef = useRef(controlledValue),\n      initialControlledValue = _React$useRef.current;\n\n  var controlledValueChangedRef = useRef(false);\n  useUpdateEffect(function () {\n    controlledValueChangedRef.current = true;\n  }, [controlledValue]);\n\n  var _React$useContext = useContext(ComboboxContext),\n      _React$useContext$dat = _React$useContext.data,\n      navigationValue = _React$useContext$dat.navigationValue,\n      value = _React$useContext$dat.value,\n      lastEventType = _React$useContext$dat.lastEventType,\n      inputRef = _React$useContext.inputRef,\n      state = _React$useContext.state,\n      transition = _React$useContext.transition,\n      listboxId = _React$useContext.listboxId,\n      autocompletePropRef = _React$useContext.autocompletePropRef,\n      openOnFocus = _React$useContext.openOnFocus,\n      isExpanded = _React$useContext.isExpanded,\n      ariaLabel = _React$useContext.ariaLabel,\n      ariaLabelledby = _React$useContext.ariaLabelledby,\n      persistSelectionRef = _React$useContext.persistSelectionRef;\n\n  var ref = useComposedRefs(inputRef, forwardedRef); // Because we close the List on blur, we need to track if the blur is\n  // caused by clicking inside the list, and if so, don't close the List.\n\n  var selectOnClickRef = useRef(false);\n  var handleKeyDown = useKeyDown();\n  var handleBlur = useBlur();\n  var isControlled = controlledValue != null; // Layout effect should be SSR-safe here because we don't actually do\n  // anything with this ref that involves rendering until after we've\n  // let the client hydrate in nested components.\n\n  useIsomorphicLayoutEffect(function () {\n    autocompletePropRef.current = autocomplete;\n  }, [autocomplete, autocompletePropRef]);\n  var handleValueChange = useCallback(function (value) {\n    if (value.trim() === \"\") {\n      transition(CLEAR);\n    } else if (value === initialControlledValue && !controlledValueChangedRef.current) {\n      transition(INITIAL_CHANGE, {\n        value: value\n      });\n    } else {\n      transition(CHANGE, {\n        value: value\n      });\n    }\n  }, [initialControlledValue, transition]);\n  useEffect(function () {\n    // If they are controlling the value we still need to do our transitions,\n    // so  we have this derived state to emulate onChange of the input as we\n    // receive new `value`s ...[*]\n    if (isControlled && controlledValue !== value && ( // https://github.com/reach/reach-ui/issues/481\n    controlledValue.trim() === \"\" ? (value || \"\").trim() !== \"\" : true)) {\n      handleValueChange(controlledValue);\n    }\n  }, [controlledValue, handleValueChange, isControlled, value]); // [*]... and when controlled, we don't trigger handleValueChange as the\n  // user types, instead the developer controls it with the normal input\n  // onChange prop\n\n  function handleChange(event) {\n    var value = event.target.value;\n\n    if (!isControlled) {\n      handleValueChange(value);\n    }\n  }\n\n  function handleFocus() {\n    if (selectOnClick) {\n      selectOnClickRef.current = true;\n    } // If we select an option with click, useFocusManagement will focus the\n    // input, in those cases we don't want to cause the menu to open back up,\n    // so we guard behind these states.\n\n\n    if (openOnFocus && lastEventType !== SELECT_WITH_CLICK) {\n      transition(FOCUS, {\n        persistSelection: persistSelectionRef.current\n      });\n    }\n  }\n\n  function handleClick() {\n    if (selectOnClickRef.current) {\n      selectOnClickRef.current = false;\n      inputRef.current.select();\n    }\n  }\n\n  var inputValue = autocomplete && (state === NAVIGATING || state === INTERACTING) ? // When idle, we don't have a navigationValue on ArrowUp/Down\n  navigationValue || controlledValue || value : controlledValue || value;\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"aria-activedescendant\": navigationValue ? String(makeHash(navigationValue)) : undefined,\n    \"aria-autocomplete\": \"both\",\n    \"aria-controls\": listboxId,\n    \"aria-expanded\": isExpanded,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledby,\n    role: \"combobox\"\n  }, props, {\n    \"data-reach-combobox-input\": \"\",\n    \"data-state\": getDataState(state),\n    ref: ref,\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    onChange: composeEventHandlers(onChange, handleChange),\n    onClick: composeEventHandlers(onClick, handleClick),\n    onFocus: composeEventHandlers(onFocus, handleFocus),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    value: inputValue || \"\"\n  }));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxinput-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxInput.displayName = \"ComboboxInput\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxPopover\n *\n * Contains the popup that renders the list. Because some UI needs to render\n * more than the list in the popup, you need to render one of these around the\n * list. For example, maybe you want to render the number of results suggested.\n *\n * @see Docs https://reach.tech/combobox#comboboxpopover\n */\n\n\nvar ComboboxPopover = /*#__PURE__*/forwardRef(function ComboboxPopover(_ref3, forwardedRef) {\n  var _ref3$as = _ref3.as,\n      Comp = _ref3$as === void 0 ? \"div\" : _ref3$as,\n      children = _ref3.children,\n      _ref3$portal = _ref3.portal,\n      portal = _ref3$portal === void 0 ? true : _ref3$portal,\n      onKeyDown = _ref3.onKeyDown,\n      onBlur = _ref3.onBlur,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === void 0 ? positionMatchWidth : _ref3$position,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"as\", \"children\", \"portal\", \"onKeyDown\", \"onBlur\", \"position\"]);\n\n  var _React$useContext2 = useContext(ComboboxContext),\n      popoverRef = _React$useContext2.popoverRef,\n      inputRef = _React$useContext2.inputRef,\n      isExpanded = _React$useContext2.isExpanded,\n      state = _React$useContext2.state;\n\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n  var handleBlur = useBlur();\n  var sharedProps = {\n    \"data-reach-combobox-popover\": \"\",\n    \"data-state\": getDataState(state),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    // Instead of conditionally rendering the popover we use the `hidden` prop\n    // because we don't want to unmount on close (from escape or onSelect).\n    // However, the developer can conditionally render the ComboboxPopover if\n    // they do want to cause mount/unmount based on the app's own data (like\n    // results.length or whatever).\n    hidden: !isExpanded,\n    tabIndex: -1,\n    children: children\n  };\n  return portal ? /*#__PURE__*/createElement(Popover, _extends({\n    as: Comp\n  }, props, {\n    ref: ref,\n    position: position,\n    targetRef: inputRef\n  }, sharedProps)) : /*#__PURE__*/createElement(Comp, _extends({\n    ref: ref\n  }, props, sharedProps));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxPopover.displayName = \"ComboboxPopover\";\n}\n/**\n * @see Docs https://reach.tech/combobox#comboboxpopover-props\n */\n\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxList\n *\n * Contains the `ComboboxOption` elements and sets up the proper aria attributes\n * for the list.\n *\n * @see Docs https://reach.tech/combobox#comboboxlist\n */\nvar ComboboxList = /*#__PURE__*/forwardRef(function ComboboxList(_ref4, forwardedRef) {\n  var _ref4$persistSelectio = _ref4.persistSelection,\n      persistSelection = _ref4$persistSelectio === void 0 ? false : _ref4$persistSelectio,\n      _ref4$as = _ref4.as,\n      Comp = _ref4$as === void 0 ? \"ul\" : _ref4$as,\n      props = _objectWithoutPropertiesLoose(_ref4, [\"persistSelection\", \"as\"]);\n\n  var _React$useContext3 = useContext(ComboboxContext),\n      persistSelectionRef = _React$useContext3.persistSelectionRef,\n      listboxId = _React$useContext3.listboxId;\n\n  if (persistSelection) {\n    persistSelectionRef.current = true;\n  }\n\n  return /*#__PURE__*/createElement(Comp, _extends({\n    role: \"listbox\"\n  }, props, {\n    ref: forwardedRef,\n    \"data-reach-combobox-list\": \"\",\n    id: listboxId\n  }));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxlist-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxList.displayName = \"ComboboxList\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxOption\n *\n * An option that is suggested to the user as they interact with the combobox.\n *\n * @see Docs https://reach.tech/combobox#comboboxoption\n */\n\n\nvar ComboboxOption = /*#__PURE__*/forwardRef(function ComboboxOption(_ref5, forwardedRef) {\n  var _ref5$as = _ref5.as,\n      Comp = _ref5$as === void 0 ? \"li\" : _ref5$as,\n      children = _ref5.children,\n      value = _ref5.value,\n      onClick = _ref5.onClick,\n      props = _objectWithoutPropertiesLoose(_ref5, [\"as\", \"children\", \"value\", \"onClick\"]);\n\n  var _React$useContext4 = useContext(ComboboxContext),\n      onSelect = _React$useContext4.onSelect,\n      navigationValue = _React$useContext4.data.navigationValue,\n      transition = _React$useContext4.transition;\n\n  var ownRef = useRef(null);\n  var ref = useComposedRefs(forwardedRef, ownRef);\n  var index = useDescendant({\n    element: ownRef.current,\n    value: value\n  }, ComboboxDescendantContext);\n  var isActive = navigationValue === value;\n\n  var handleClick = function handleClick() {\n    onSelect && onSelect(value);\n    transition(SELECT_WITH_CLICK, {\n      value: value\n    });\n  };\n\n  return /*#__PURE__*/createElement(OptionContext.Provider, {\n    value: {\n      value: value,\n      index: index\n    }\n  }, /*#__PURE__*/createElement(Comp, _extends({\n    \"aria-selected\": isActive,\n    role: \"option\"\n  }, props, {\n    \"data-reach-combobox-option\": \"\",\n    ref: ref,\n    id: String(makeHash(value)),\n    \"data-highlighted\": isActive ? \"\" : undefined // Without this the menu will close from `onBlur`, but with it the\n    // element can be `document.activeElement` and then our focus checks in\n    // onBlur will work as intended\n    ,\n    tabIndex: -1,\n    onClick: composeEventHandlers(onClick, handleClick)\n  }), children ? isFunction(children) ? children({\n    value: value,\n    index: index\n  }) : children : /*#__PURE__*/createElement(ComboboxOptionText, null)));\n});\n/**\n * @see Docs https://reach.tech/combobox#comboboxoption-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxOption.displayName = \"ComboboxOption\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxOptionText\n *\n * Renders the value of a `ComboboxOption` as text but with spans wrapping the\n * matching and non-matching segments of text.\n *\n * We don't forwardRef or spread props because we render multiple spans or null,\n * should be fine ð¤\n *\n * @example\n *   <ComboboxOption value=\"Seattle\">\n *     ð§ <ComboboxOptionText />\n *   </ComboboxOption>\n *\n * @see Docs https://reach.tech/combobox#comboboxoptiontext\n */\n\n\nfunction ComboboxOptionText() {\n  var _React$useContext5 = useContext(OptionContext),\n      value = _React$useContext5.value;\n\n  var _React$useContext6 = useContext(ComboboxContext),\n      contextValue = _React$useContext6.data.value;\n\n  var results = useMemo(function () {\n    return HighlightWords.findAll({\n      searchWords: escapeRegexp(contextValue || \"\").split(/\\s+/),\n      textToHighlight: value\n    });\n  }, [contextValue, value]);\n  return /*#__PURE__*/createElement(Fragment, null, results.length ? results.map(function (result, index) {\n    var str = value.slice(result.start, result.end);\n    return /*#__PURE__*/createElement(\"span\", {\n      key: index,\n      \"data-reach-combobox-option-text\": \"\",\n      \"data-user-value\": result.highlight ? true : undefined,\n      \"data-suggested-value\": result.highlight ? undefined : true\n    }, str);\n  }) : value);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxOptionText.displayName = \"ComboboxOptionText\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ComboboxButton\n */\n\n\nvar ComboboxButton = /*#__PURE__*/forwardRef(function ComboboxButton(_ref6, forwardedRef) {\n  var _ref6$as = _ref6.as,\n      Comp = _ref6$as === void 0 ? \"button\" : _ref6$as,\n      onClick = _ref6.onClick,\n      onKeyDown = _ref6.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref6, [\"as\", \"onClick\", \"onKeyDown\"]);\n\n  var _React$useContext7 = useContext(ComboboxContext),\n      transition = _React$useContext7.transition,\n      state = _React$useContext7.state,\n      buttonRef = _React$useContext7.buttonRef,\n      listboxId = _React$useContext7.listboxId,\n      isExpanded = _React$useContext7.isExpanded;\n\n  var ref = useComposedRefs(buttonRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n\n  var handleClick = function handleClick() {\n    if (state === IDLE) {\n      transition(OPEN_WITH_BUTTON);\n    } else {\n      transition(CLOSE_WITH_BUTTON);\n    }\n  };\n\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"aria-controls\": listboxId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-expanded\": isExpanded\n  }, props, {\n    \"data-reach-combobox-button\": \"\",\n    ref: ref,\n    onClick: composeEventHandlers(onClick, handleClick),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ComboboxButton.displayName = \"ComboboxButton\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Move focus back to the input if we start navigating w/ the\n * keyboard after focus has moved to any focusable content in\n * the popup.\n *\n * @param lastEventType\n * @param inputRef\n */\n\n\nfunction useFocusManagement(lastEventType, inputRef) {\n  // useLayoutEffect so that the cursor goes to the end of the input instead\n  // of awkwardly at the beginning, unclear to me why ð¤·ââï¸\n  //\n  // Should be safe to use here since we're just focusing an input.\n  useIsomorphicLayoutEffect(function () {\n    if (lastEventType === NAVIGATE || lastEventType === ESCAPE || lastEventType === SELECT_WITH_CLICK || lastEventType === OPEN_WITH_BUTTON) {\n      inputRef.current.focus();\n    }\n  }, [inputRef, lastEventType]);\n}\n/**\n * We want the same events when the input or the popup have focus (HOW COOL ARE\n * HOOKS BTW?) This is probably the hairiest piece but it's not bad.\n */\n\n\nfunction useKeyDown() {\n  var _React$useContext8 = useContext(ComboboxContext),\n      navigationValue = _React$useContext8.data.navigationValue,\n      onSelect = _React$useContext8.onSelect,\n      state = _React$useContext8.state,\n      transition = _React$useContext8.transition,\n      autocompletePropRef = _React$useContext8.autocompletePropRef,\n      persistSelectionRef = _React$useContext8.persistSelectionRef;\n\n  var options = useDescendants(ComboboxDescendantContext);\n  return function handleKeyDown(event) {\n    var index = options.findIndex(function (_ref7) {\n      var value = _ref7.value;\n      return value === navigationValue;\n    });\n\n    function getNextOption() {\n      var atBottom = index === options.length - 1;\n\n      if (atBottom) {\n        if (autocompletePropRef.current) {\n          // Go back to the value the user has typed because we are\n          // autocompleting and they need to be able to get back to what\n          // they had typed w/o having to backspace out.\n          return null;\n        } else {\n          // cycle through\n          return getFirstOption();\n        }\n      } else {\n        // Go to the next item in the list\n        return options[(index + 1) % options.length];\n      }\n    }\n\n    function getPreviousOption() {\n      var atTop = index === 0;\n\n      if (atTop) {\n        if (autocompletePropRef.current) {\n          // Go back to the value the user has typed because we are\n          // autocompleting and they need to be able to get back to what\n          // they had typed w/o having to backspace out.\n          return null;\n        } else {\n          // cycle through\n          return getLastOption();\n        }\n      } else if (index === -1) {\n        // displaying the user's value, so go select the last one\n        return getLastOption();\n      } else {\n        // normal case, select previous\n        return options[(index - 1 + options.length) % options.length];\n      }\n    }\n\n    function getFirstOption() {\n      return options[0];\n    }\n\n    function getLastOption() {\n      return options[options.length - 1];\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || !options.length) {\n          return;\n        }\n\n        if (state === IDLE) {\n          // Opening a closed list\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          var next = getNextOption();\n          transition(NAVIGATE, {\n            value: next ? next.value : null\n          });\n        }\n\n        break;\n      // A lot of duplicate code with ArrowDown up next, I'm already over it.\n\n      case \"ArrowUp\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          var prev = getPreviousOption();\n          transition(NAVIGATE, {\n            value: prev ? prev.value : null\n          });\n        }\n\n        break;\n\n      case \"Home\":\n      case \"PageUp\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getFirstOption().value\n          });\n        }\n\n        break;\n\n      case \"End\":\n      case \"PageDown\":\n        // Don't scroll the page\n        event.preventDefault();\n\n        if (!options || options.length === 0) {\n          return;\n        }\n\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getLastOption().value\n          });\n        }\n\n        break;\n\n      case \"Escape\":\n        if (state !== IDLE) {\n          transition(ESCAPE);\n        }\n\n        break;\n\n      case \"Enter\":\n        if (state === NAVIGATING && navigationValue !== null) {\n          // don't want to submit forms\n          event.preventDefault();\n          onSelect && onSelect(navigationValue);\n          transition(SELECT_WITH_KEYBOARD);\n        }\n\n        break;\n    }\n  };\n}\n\nfunction useBlur() {\n  var _React$useContext9 = useContext(ComboboxContext),\n      state = _React$useContext9.state,\n      transition = _React$useContext9.transition,\n      popoverRef = _React$useContext9.popoverRef,\n      inputRef = _React$useContext9.inputRef,\n      buttonRef = _React$useContext9.buttonRef;\n\n  var rafIds = useLazyRef(function () {\n    return new Set();\n  });\n  useEffect(function () {\n    return function () {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      rafIds.current.forEach(function (id) {\n        return cancelAnimationFrame(id);\n      });\n    };\n  }, [rafIds]);\n  return function handleBlur() {\n    var ownerDocument = getOwnerDocument(popoverRef.current);\n\n    if (!ownerDocument) {\n      return;\n    }\n\n    var rafId = requestAnimationFrame(function () {\n      // we on want to close only if focus propss outside the combobox\n      if (ownerDocument.activeElement !== inputRef.current && ownerDocument.activeElement !== buttonRef.current && popoverRef.current) {\n        if (popoverRef.current.contains(ownerDocument.activeElement)) {\n          // focus landed inside the combobox, keep it open\n          if (state !== INTERACTING) {\n            transition(INTERACT);\n          }\n        } else {\n          // focus landed outside the combobox, close it.\n          transition(BLUR);\n        }\n      }\n    });\n    rafIds.current.add(rafId);\n  };\n}\n/**\n * This manages transitions between states with a built in reducer to manage\n * the data that goes with those transitions.\n *\n * @param chart\n * @param reducer\n * @param initialData\n */\n\n\nfunction useReducerMachine(chart, reducer, initialData) {\n  var _React$useState = useState(chart.initial),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var _React$useReducer = useReducer(reducer, initialData),\n      data = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var transition = function transition(event, payload) {\n    if (payload === void 0) {\n      payload = {};\n    }\n\n    var currentState = chart.states[state];\n    var nextState = currentState && currentState.on[event];\n\n    if (nextState) {\n      dispatch(_extends({\n        type: event,\n        state: state,\n        nextState: state\n      }, payload));\n      setState(nextState);\n      return;\n    }\n  };\n\n  return [state, data, transition];\n}\n/**\n * We don't want to track the active descendant with indexes because nothing is\n * more annoying in a combobox than having it change values RIGHT AS YOU HIT\n * ENTER. That only happens if you use the index as your data, rather than\n * *your data as your data*. We use this to generate a unique ID based on the\n * value of each item.  This function is short, sweet, and good enoughâ¢ (I also\n * don't know how it works, tbqh)\n *\n * @see https://stackoverflow.com/questions/6122571/simple-non-secure-hash-function-for-javascript\n * @param str\n */\n\n\nfunction makeHash(str) {\n  var hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < str.length; i++) {\n    var _char = str.charCodeAt(i);\n\n    hash = (hash << 5) - hash + _char;\n    hash = hash & hash;\n  }\n\n  return hash;\n}\n\nfunction getDataState(state) {\n  return state.toLowerCase();\n}\n/**\n * Escape regexp special characters in `str`\n *\n * @see https://github.com/component/escape-regexp/blob/5ce923c1510c9802b3da972c90b6861dd2829b6b/index.js\n * @param str\n */\n\n\nfunction escapeRegexp(str) {\n  return String(str).replace(/([.*+?=^!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n} //////////////////////////\n//////////////////////////////////////////////////////\n\n/**\n * A hook that exposes data for a given `Combobox` component to its descendants.\n *\n * @see Docs https://reach.tech/combobox#usecomboboxcontext\n */\n\nfunction useComboboxContext() {\n  var _React$useContext10 = useContext(ComboboxContext),\n      isExpanded = _React$useContext10.isExpanded,\n      comboboxId = _React$useContext10.comboboxId,\n      data = _React$useContext10.data,\n      state = _React$useContext10.state;\n\n  var navigationValue = data.navigationValue;\n  return useMemo(function () {\n    return {\n      id: comboboxId,\n      isExpanded: isExpanded,\n      navigationValue: navigationValue != null ? navigationValue : null,\n      state: state\n    };\n  }, [comboboxId, isExpanded, navigationValue, state]);\n}\n/**\n * A hook that exposes data for a given `ComboboxOption` component to its descendants.\n *\n * @see Docs https://reach.tech/combobox#usecomboboxcontext\n */\n\nfunction useComboboxOptionContext() {\n  var _React$useContext11 = useContext(OptionContext),\n      value = _React$useContext11.value,\n      index = _React$useContext11.index;\n\n  return useMemo(function () {\n    return {\n      value: value,\n      index: index\n    };\n  }, [value, index]);\n} ////////////////////////////////////////////////////////////////////////////////\n// Well alright, you made it all the way here to like 1100 lines of code (geez,\n// what the heck?). Have a great day :D\n////////////////////////////////////////////////////////////////////////////////\n// Types\n\nexport { Combobox, ComboboxButton, ComboboxInput, ComboboxList, ComboboxOption, ComboboxOptionText, ComboboxPopover, escapeRegexp, useComboboxContext, useComboboxOptionContext };\n","/**\n * Joins strings to format IDs for compound components.\n *\n * @param args\n */\nfunction makeId() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.filter(function (val) {\n    return val != null;\n  }).join(\"--\");\n}\n\nexport { makeId };\n","import { useRef, useEffect } from 'react';\n\n/**\n * Call an effect after a component update, skipping the initial mount.\n *\n * @param effect Effect to call\n * @param deps Effect dependency list\n */\nfunction useUpdateEffect(effect, deps) {\n  var mounted = useRef(false);\n  useEffect(function () {\n    if (mounted.current) {\n      effect();\n    } else {\n      mounted.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}\n\nexport { useUpdateEffect };\n","import { useRef } from 'react';\n\nfunction useLazyRef(fn) {\n  var isSet = useRef(false);\n  var ref = useRef();\n\n  if (!isSet.current) {\n    isSet.current = true;\n    ref.current = fn();\n  }\n\n  return ref;\n}\n\nexport { useLazyRef };\n","import { useRef, useEffect, useState, useCallback } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useLatest = (function (val) {\n  var ref = useRef(val);\n  useEffect(function () {\n    ref.current = val;\n  });\n  return ref;\n});\n\nvar _debounce = (function (fn, wait) {\n  var timer; // eslint-disable-next-line func-names\n\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (timer !== null) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    timer = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, wait);\n  };\n});\n\nvar loadApiErr = \"ð¡ use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library\";\n\nvar usePlacesAutocomplete = function usePlacesAutocomplete(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      requestOptions = _ref.requestOptions,\n      _ref$debounce = _ref.debounce,\n      debounce = _ref$debounce === void 0 ? 200 : _ref$debounce,\n      _ref$cache = _ref.cache,\n      cache = _ref$cache === void 0 ? 24 * 60 * 60 : _ref$cache,\n      googleMaps = _ref.googleMaps,\n      callbackName = _ref.callbackName,\n      _ref$defaultValue = _ref.defaultValue,\n      defaultValue = _ref$defaultValue === void 0 ? \"\" : _ref$defaultValue,\n      _ref$initOnMount = _ref.initOnMount,\n      initOnMount = _ref$initOnMount === void 0 ? true : _ref$initOnMount;\n\n  var _useState = useState(false),\n      ready = _useState[0],\n      setReady = _useState[1];\n\n  var _useState2 = useState(defaultValue),\n      value = _useState2[0],\n      setVal = _useState2[1];\n\n  var _useState3 = useState({\n    loading: false,\n    status: \"\",\n    data: []\n  }),\n      suggestions = _useState3[0],\n      setSuggestions = _useState3[1];\n\n  var asRef = useRef(null);\n  var requestOptionsRef = useLatest(requestOptions);\n  var googleMapsRef = useLatest(googleMaps);\n  var init = useCallback(function () {\n    var _google$maps;\n\n    if (asRef.current) return;\n    var _window = window,\n        google = _window.google;\n    var gMaps = googleMapsRef.current;\n    var placesLib = (gMaps == null ? void 0 : gMaps.places) || (google == null ? void 0 : (_google$maps = google.maps) == null ? void 0 : _google$maps.places);\n\n    if (!placesLib) {\n      console.error(loadApiErr);\n      return;\n    }\n\n    asRef.current = new placesLib.AutocompleteService();\n    setReady(true);\n  }, []);\n  var clearSuggestions = useCallback(function () {\n    setSuggestions({\n      loading: false,\n      status: \"\",\n      data: []\n    });\n  }, []);\n  var fetchPredictions = useCallback(_debounce(function (val) {\n    if (!val) {\n      clearSuggestions();\n      return;\n    }\n\n    setSuggestions(function (prevState) {\n      return _extends({}, prevState, {\n        loading: true\n      });\n    });\n    var cachedData = JSON.parse(sessionStorage.getItem(\"upa\") || \"{}\");\n\n    if (cache) {\n      cachedData = Object.keys(cachedData).reduce(function (acc, key) {\n        if (cachedData[key].maxAge - Date.now() >= 0) acc[key] = cachedData[key];\n        return acc;\n      }, {});\n\n      if (cachedData[val]) {\n        setSuggestions({\n          loading: false,\n          status: \"OK\",\n          data: cachedData[val].data\n        });\n        return;\n      }\n    } // @ts-expect-error\n\n\n    asRef.current.getPlacePredictions(_extends({}, requestOptionsRef.current, {\n      input: val\n    }), function (data, status) {\n      setSuggestions({\n        loading: false,\n        status: status,\n        data: data || []\n      });\n\n      if (cache && status === \"OK\") {\n        cachedData[val] = {\n          data: data,\n          maxAge: Date.now() + cache * 1000\n        };\n\n        try {\n          sessionStorage.setItem(\"upa\", JSON.stringify(cachedData));\n        } catch (error) {// skip exception\n        }\n      }\n    });\n  }, debounce), [debounce, clearSuggestions]);\n  var setValue = useCallback(function (val, shouldFetchData) {\n    if (shouldFetchData === void 0) {\n      shouldFetchData = true;\n    }\n\n    setVal(val);\n    if (asRef.current && shouldFetchData) fetchPredictions(val);\n  }, [fetchPredictions]);\n  useEffect(function () {\n    if (!initOnMount) return function () {\n      return null;\n    };\n    var _window2 = window,\n        google = _window2.google;\n\n    if (!googleMapsRef.current && !(google != null && google.maps) && callbackName) {\n      window[callbackName] = init;\n    } else {\n      init();\n    }\n\n    return function () {\n      // @ts-expect-error\n      if (window[callbackName]) delete window[callbackName];\n    };\n  }, [callbackName, init]);\n  return {\n    ready: ready,\n    value: value,\n    suggestions: suggestions,\n    setValue: setValue,\n    clearSuggestions: clearSuggestions,\n    init: init\n  };\n};\n\n/* eslint-disable compat/compat */\nvar geocodeErr = \"ð¡ use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.\";\nvar getGeocode = function getGeocode(args) {\n  var geocoder = new window.google.maps.Geocoder();\n  return new Promise(function (resolve, reject) {\n    geocoder.geocode(args, function (results, status) {\n      if (status !== \"OK\") reject(status);\n\n      if (!args.address && args.componentRestrictions) {\n        console.error(geocodeErr);\n        resolve(results);\n      }\n\n      resolve(results);\n    });\n  });\n};\nvar getLatLng = function getLatLng(result) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var _result$geometry$loca = result.geometry.location,\n          lat = _result$geometry$loca.lat,\n          lng = _result$geometry$loca.lng;\n      resolve({\n        lat: lat(),\n        lng: lng()\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nvar getZipCode = function getZipCode(result, useShortName) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var zipCode = null;\n      result.address_components.forEach(function (_ref) {\n        var long_name = _ref.long_name,\n            short_name = _ref.short_name,\n            types = _ref.types;\n        if (types.includes(\"postal_code\")) zipCode = useShortName ? short_name : long_name;\n      });\n      resolve(zipCode);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nvar getDetailsErr = \"ð¡ use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.\";\nvar getDetails = function getDetails(args) {\n  var PlacesService = new window.google.maps.places.PlacesService(document.createElement(\"div\"));\n\n  if (!args.placeId) {\n    console.error(getDetailsErr);\n    return Promise.reject(getDetailsErr);\n  }\n\n  return new Promise(function (resolve, reject) {\n    PlacesService.getDetails(args, function (results, status) {\n      if (status !== \"OK\") reject(status);\n      resolve(results);\n    });\n  });\n};\n\nexport default usePlacesAutocomplete;\nexport { getDetails, getGeocode, getLatLng, getZipCode };\n","var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (\n    !isNodeMatchingSelectorFocusable(node)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || isHidden(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n"],"sourceRoot":""}