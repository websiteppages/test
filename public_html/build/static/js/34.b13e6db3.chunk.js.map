{"version":3,"sources":["components/property/Propertyimgorder.js"],"names":["BaseURLuploads","WEB_URL_UPLOAD","Propertyimgorder","props","useContext","MyContext","imgorderall","deletevideolist","savesall","useEffect","imgorder","match","params","AddPreview","window","scrollTo","useState","isimgorder","setimgorder","ids","a","imgorderqqq","success","console","log","imgorderlist","map","imageall","defaults","setuserInfo","userInfo","setasdefault","propertyimg_id","setas","loadingadd","setloadingadd","saves","imgid","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","deletevideo","className","item","index","type","id","name","value","onChange","e","target","checked","onChangecheckroom","htmlFor","src","property_image","alt","phototype","color","height","width","style","float","onClick","confirmAlert","title","message","buttons","label"],"mappings":"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","file":"static/js/34.b13e6db3.chunk.js","sourcesContent":["import React,{useContext,useState,useEffect} from 'react';\r\nimport { MyContext } from '../../contexts/MyContext';\r\nimport Loader from 'react-loader-spinner';\r\nimport Navbarmenu from \"../menu/Navbarmenu\";\r\nimport {toast} from \"react-toastify\";\r\nimport Footer from \"../Footer\";\r\nimport '../../styles/_property.scss';\r\nimport { confirmAlert } from 'react-confirm-alert'; \r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport { WEB_URL_UPLOAD } from '../../contexts/Apilinks';\r\nlet BaseURLuploads = WEB_URL_UPLOAD;\r\n\r\nconst Propertyimgorder = (props) => {\r\n  const {imgorderall,deletevideolist,savesall} = useContext(MyContext);\r\n  useEffect(() => {\r\n    imgorder(props.match.params.AddPreview);\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const [isimgorder, setimgorder] = useState([]);\r\n  const imgorder = async(ids) =>{\r\n    try {\r\n      const imgorderqqq = await imgorderall(ids);\r\n      if(imgorderqqq.success === 1){\r\n        console.log('imgorderqqq',imgorderqqq.imgorderlist);\r\n        setimgorder(imgorderqqq.imgorderlist);\r\n        const setdefffsss = imgorderqqq.imgorderlist.map((imageall) => (<>\r\n          {imageall.defaults === 1 ?\r\n              setuserInfo({\r\n                ...userInfo,\r\n                setasdefault:imageall.propertyimg_id,\r\n                setas:false,\r\n              })\r\n            : null\r\n          }\r\n          \r\n         \r\n         </>));\r\n         \r\n        return;\r\n      }\r\n    } catch (error) { throw error;}\r\n  }\r\n\tconst [userInfo, setuserInfo] = useState({\r\n\t\tsetasdefault: '',\r\n\t\tsetas:false,\r\n  })\r\n \r\n  const onChangecheckroom = (ids,e) => {\r\n    if (e.target.type === 'checkbox' && !e.target.checked){\r\n      setuserInfo({\r\n        ...userInfo,\r\n        [e.target.name]:''\r\n      });\r\n    \r\n  } else{\r\n    \r\n    setuserInfo({\r\n      ...userInfo,\r\n      [e.target.name]:ids,\r\n      setas:true,\r\n    });\r\n   \r\n  }\r\n} \r\nconst [loadingadd, setloadingadd] = useState(false); \r\nconst saves = async(imgid) => {\r\n  try {\r\n    setloadingadd(true);\r\n    const saves = await savesall(imgid,props.match.params.AddPreview);\r\n    if(saves.success === 1){\r\n      toast( ' Post Author Updates  Successfully.', {position: \"top-right\",autoClose: 5000,hideProgressBar: false, closeOnClick: true,pauseOnHover: true,draggable: true,}); \r\n      setloadingadd(false);\r\n      setuserInfo({\r\n        ...userInfo,\r\n        setas:false,\r\n      });\r\n      return;\r\n    }\r\n  } catch (error) { throw error;}\r\n}\r\nconst deletes = (imgid) => {\r\n  confirmAlert({\r\n    title: 'Confirm to Delete ',\r\n    message: 'Are you sure to do this.',\r\n    buttons: [\r\n      {\r\n        label: 'Yes',\r\n        onClick: () => deletevideo(imgid)\r\n      },\r\n      {\r\n        label: 'No',\r\n      }\r\n    ]\r\n  })\r\n};     \r\nconst deletevideo = async (imgid) => {\r\n  try {\r\n    setloadingadd(true);\r\n         const deletevideosss = await deletevideolist(imgid);\r\n         if(deletevideosss.success === 1){\r\n            setimgorder([]);\r\n            imgorder(props.match.params.AddPreview);\r\n            setloadingadd(false);\r\n         }\r\n  } catch (error) { throw error;}      \r\n}\r\n\r\n\r\n\r\n  return (\r\n     <>\r\n    <Navbarmenu />\r\n  <div className=\"Rentsssviews\"> \r\n    <div className=\"container\"> \r\n      <div className=\"rows\"> \r\n\r\n    <div className=\"clearfix\"></div>\r\n\r\n{isimgorder.map((item, index) => (  \r\n  <div className=\"col-md-4 \" key={item.propertyimg_id} >\r\n  <div className=\"img__order\" >\r\n<ul> <li>\r\n<input type=\"checkbox\" id={item.propertyimg_id}  name=\"setasdefault\" value={item.propertyimg_id} onChange={(e)=>onChangecheckroom(item.propertyimg_id,e)} checked={userInfo.setasdefault === item.propertyimg_id} />\r\n    <label htmlFor={item.propertyimg_id}><img src={BaseURLuploads + item.property_image} alt={item.phototype} /><br/> {userInfo.setasdefault === item.propertyimg_id ? 'Set As Default' : null } </label>\r\n\r\n    </li></ul>\r\n\r\n    <div className=\"form-group col-md-12 \">\r\n\t\t{loadingadd ? <>\r\n    <Loader type=\"Oval\" color=\"#00bf6f\" height={47} width={47} style={{float: \"left\"}}/>\r\n    </>: <>\r\n    <p className=\"btn\" onClick={()=>deletes(item.propertyimg_id)}> Delete </p>\r\n    {userInfo.setasdefault === item.propertyimg_id && userInfo.setas === true ?\r\n    <p className=\"btn\" onClick={()=>saves(item.propertyimg_id)}> Save </p>\r\n    : null }\r\n    </> \r\n  } \r\n  </div>\r\n\r\n\r\n\r\n  </div>\r\n  </div>\r\n  ))}\r\n\r\n\r\n\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n    <Footer />         \r\n\t\t\t  </>\r\n  )\r\n}\r\n\r\nexport default Propertyimgorder\r\n"],"sourceRoot":""}